import{j as l}from"./react-jsx-CMSr4IcU.js";import{l as x,d,m as B}from"./styled-C4Pyk3iD.js";import{r as t,D as A}from"./react-core-D2g-_gCs.js";import{R as T}from"./vendor-CKNStM8s.js";const _=o=>x(["--colorBg:",";&:hover{","}"],o,o&&"background-color: var(--colorBg); border-color: var(--colorBg);"),I=({colorBg:o,colorOutline:e})=>x(["--colorBg:",";&:focus-visible{outline-offset:2px;outline:2px solid ",";","}"],o,e||"var(--colorOutline)",o&&"background-color: var(--colorBg); border-color: var(--colorBg);"),k=({colorBg:o,colorOutline:e})=>x([""," ",""],_(o),I({colorBg:o,colorOutline:e})),N=d.a.withConfig({componentId:"sc-nqkbzx-0"})([""," border-radius:",";color:var(--link-color);display:inline-block;font-weight:",";padding:",";text-decoration:none;transition:",";",""],({theme:o})=>`
  --link-color: ${o.colors["emphasis-low-fg"]};`,({theme:o})=>o.radius.interactive,({theme:o})=>o.fontWeight.medium,({theme:o,$variant:e})=>e==="plain"?0:`${o.spacings[12]} ${o.spacings[16]}`,({theme:o})=>o.motions["transition-base"],({theme:o})=>I({colorBg:o.colors["emphasis-low-bg-active"],colorOutline:o.colors["emphasis-low-fg"]})),W=({children:o,variant:e="plain",...n})=>l.jsx(N,{$variant:e,...n,children:o});W.displayName="DSLink";const F=d.div.withConfig({componentId:"sc-1qlq5j7-0"})(["width:100%;"]),q=d.div.withConfig({componentId:"sc-1qlq5j7-1"})(["display:flex;justify-content:center;gap:","px;"],({$gap:o})=>o),P=d.div.withConfig({componentId:"sc-1qlq5j7-2"})(["display:flex;flex-direction:column;gap:","px;width:","px;"],({$gap:o})=>o,({$width:o})=>o),H=576,U=768;function G(o){return o<H?1:o<U?2:3}function E(o){return Array.from({length:o},()=>[])}function K(o,e,n){return Math.floor((o-n*(e-1))/e)}function Z(o,e,n,i){const r=E(e),s=Array(e).fill(0);return o.forEach((g,u)=>{let p=0,h=s[0];for(let c=1;c<s.length;c++){const m=s[c];m<h&&(h=m,p=c)}r[p].push({...g,originalIndex:u});const a=g.height/g.width;s[p]+=n*a+i}),r}const V=(o,e)=>{const n=t.useRef(void 0);return t.useCallback(()=>{n.current!==void 0&&window.clearTimeout(n.current),n.current=window.setTimeout(o,e)},[o,e])},Q=({data:o,gap:e=24,renderItem:n})=>{const[i,r]=t.useState(()=>[]),[s,g]=t.useState(0),[u,p]=t.useState(0),h=t.useRef(null),a=t.useCallback(()=>{if(!h.current)return;const f=h.current.offsetWidth,C=G(window.innerWidth);s!==C&&(g(C),r(E(C)));const v=Math.round(K(f,C,e));u!==v&&p(v)},[e,s,u]),c=V(a,50),m=t.useMemo(()=>s===0||!o.length?[]:Z(o,s,u,e),[o,s,u,e]),b=t.useCallback(f=>l.jsx("div",{children:n(f,u,f.originalIndex)},f.originalIndex),[n,u]);t.useEffect(()=>{r(m)},[m]),t.useEffect(()=>(a(),window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)),[a,c]);const w=t.useMemo(()=>i.map((f,C)=>l.jsx(P,{$gap:e,$width:u,children:f.map(b)},`column-${C}`)),[i,e,u,b]);return l.jsx(F,{ref:h,children:l.jsx(q,{$gap:e,children:w})})};Q.displayName="DSGridMasonry";const J=d.div.withConfig({componentId:"sc-zpy17y-0"})(["position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient( 130deg,"," 0%,"," 30%,"," 70%,"," 100% );border-radius:8px;opacity:",";overflow:hidden;z-index:10;pointer-events:",";contain:layout style paint;will-change:opacity;"],({theme:o})=>o.colors["surface-bg"],({theme:o})=>o.colors["emphasis-low-bg"],({theme:o})=>o.colors["emphasis-low-bg-active"],({theme:o})=>o.colors["surface-bg"],({$state:o})=>o==="loading"?1:0,({$state:o})=>o==="loading"?"auto":"none"),X=t.memo(({height:o="auto",state:e,width:n})=>e==="inactive"?null:l.jsx(J,{$state:e,$width:n,$height:o,"data-testid":"skeleton",role:"progressbar","aria-label":"Loading content...","aria-busy":e==="loading","aria-live":"polite"}));X.displayName="DSSkeleton";const S=t.createContext({isOpen:!1,handleOnClose:()=>{},triggerRef:{current:null}}),Y=({children:o,handleOnClose:e,isOpen:n})=>{const i=t.useRef(null),r=t.useMemo(()=>({isOpen:n,handleOnClose:e,triggerRef:i}),[n,e]);return l.jsx(S.Provider,{value:r,children:o})},y='button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])',oo=B(["from{opacity:0;}to{opacity:1;}"]),eo=d.div.withConfig({componentId:"sc-pb8nlr-0"})(["animation:"," 150ms ease-out;background:",";display:flex;inset:0;justify-content:center;align-items:center;position:fixed;z-index:2000;"],oo,({theme:o})=>o.colors["overlay-bg"]),to=d.div.withConfig({componentId:"sc-pb8nlr-1"})(["background:",";border-radius:",";box-shadow:",";height:",";max-width:",";overflow:hidden;padding:",";position:relative;width:100%;margin:",";@media (min-width:768px){height:",";}"],({theme:o})=>o.colors["surface-bg"],({theme:o})=>o.radius.surface,({theme:o})=>o.shadows.modal,({theme:o})=>`calc(100vh - ${o.spacings[64]} * 2)`,({$maxWidth:o,theme:e})=>o||e.spacings["content-max-width"],({theme:o})=>o.spacings[24],({theme:o})=>o.spacings[24],({theme:o})=>`calc(100vh - ${o.spacings[80]} * 2)`),D=t.memo(({ariaLabel:o,children:e,maxWidth:n})=>{const{isOpen:i,handleOnClose:r}=t.useContext(S),s=t.useRef(null),g=t.useCallback(a=>{a.target===a.currentTarget&&r()},[r]);t.useEffect(()=>{if(!i)return;const{body:a}=document,c=a.style.overflow;return a.style.overflow="hidden",()=>{a.style.overflow=c}},[i]);const u=t.useCallback(()=>{const a=s.current;if(!a)return;const c=a.querySelectorAll(y);c.length>0?requestAnimationFrame(()=>{const m=c[0];m instanceof HTMLElement&&m.focus()}):s.current?.focus()},[]),p=t.useCallback(()=>{const a=s.current;if(!a)return;const c=m=>{if(m.key==="Escape"){r();return}if(m.key!=="Tab")return;const b=a.querySelectorAll(y);if(b.length===0){m.preventDefault();return}const w=b[0],f=b[b.length-1];m.shiftKey?document.activeElement===w&&(m.preventDefault(),f.focus()):document.activeElement===f&&(m.preventDefault(),w.focus())};return a.addEventListener("keydown",c),()=>a.removeEventListener("keydown",c)},[r]);if(t.useEffect(()=>{if(i){const a=p();return u(),a}},[i,u,p]),!i)return null;const h=l.jsx(eo,{"aria-label":o,"aria-modal":"true",onClick:g,role:"dialog",children:l.jsx(to,{$maxWidth:n,ref:s,children:e})});return T.createPortal(h,document.body)});D.displayName="DSModalContent";const no=o=>({small:o.spacings[16],medium:o.spacings[24],large:o.spacings[32]}),io=d(A).withConfig({componentId:"sc-n09bzo-0"})(["--size:",";"," height:var(--size);width:var(--size);"],({$size:o,theme:e})=>no(e)[o],({$iconColor:o,theme:e})=>o?`color: ${e.colors[o]};`:"color: currentColor;"),j=({ariaLabel:o,color:e,name:n,size:i="medium",...r})=>{const s=o?{role:"img","aria-label":o}:{role:"presentation"};return l.jsx(io,{name:n,$iconColor:e,$size:i,...s,...r})};j.displayName="DSIcon";const so={plain:()=>"transparent",low:()=>"transparent",medium:o=>o.colors["emphasis-medium-bg"],high:o=>o.colors["emphasis-high-bg"],highlight:o=>o.colors["highlight-bg"]},ro={plain:o=>o.colors["emphasis-low-fg"],low:o=>o.colors["emphasis-low-fg"],medium:o=>o.colors["emphasis-medium-fg"],high:o=>o.colors["emphasis-high-fg"],highlight:o=>o.colors["highlight-fg"]},ao={plain:()=>"transparent",low:o=>o.colors["emphasis-low-bg-active"],medium:o=>o.colors["emphasis-medium-bg-active"],high:o=>o.colors["emphasis-high-bg-active"],highlight:o=>o.colors["highlight-bg-active"]},lo={plain:()=>"transparent",low:o=>o.colors.outline,medium:o=>o.colors["emphasis-medium-bg"],high:o=>o.colors["emphasis-high-bg"],highlight:o=>o.colors["highlight-bg"]},co={plain:()=>"transparent",low:o=>o.colors["emphasis-low-fg"],medium:o=>o.colors["emphasis-low-fg"],high:o=>o.colors["emphasis-low-fg"],highlight:o=>o.colors["emphasis-low-fg"]},$=(o,e="plain")=>so[e||"plain"](o),z=(o,e="plain")=>ro[e||"plain"](o),O=(o,e="plain")=>ao[e||"plain"](o),uo=(o,e="plain")=>lo[e||"plain"](o),go=(o,e="plain")=>co[e||"plain"](o),mo=d.button.withConfig({componentId:"sc-6o9poq-0"})([""," align-items:center;background-color:var(--colorBorder);border-radius:",";border:1px solid var(--colorBg);color:var(--colorFg);column-gap:",";display:flex;font-weight:",";outline:none;padding:",";transition:",";",""],({theme:o,$variant:e})=>`
  --colorBg: ${$(o,e)};
  --colorFg: ${z(o,e)};
  --colorBorder: ${uo(o,e)};
`,({theme:o})=>o.radius.interactive,({theme:o})=>o.spacings["element-gap-sm"],({theme:o})=>o.fontWeight.medium,({theme:o,$variant:e})=>e==="plain"?0:`${o.spacings[12]} ${o.spacings[24]}`,({theme:o})=>o.motions["transition-base"],({theme:o,$variant:e})=>k({colorBg:O(o,e),colorOutline:go(o,e)})),po={small:o=>o.spacings[16],medium:o=>o.spacings[24]},fo=(o="medium",e)=>po[o](e),ho=d.button.withConfig({componentId:"sc-1wc2eeo-0"})([""," align-items:center;background-color:var(--colorBg);border-radius:",";border:0;color:var(--colorFg);cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:",";transition:",";svg{stroke:var(--colorFg);color:var(--colorFg);}",""],({theme:o,$variant:e,$size:n})=>`
  --colorBg: ${$(o,e)};
  --colorFg: ${z(o,e)};
  --size: ${fo(n,o)};
  `,({theme:o})=>o.radius.full,({theme:o,$variant:e})=>e==="plain"?0:o.spacings["element-gap-sm"],({theme:o})=>o.motions["transition-base"],({theme:o,$variant:e})=>k({colorBg:O(o,e),colorOutline:o.colors["emphasis-low-fg"]})),M=t.memo(({ariaLabel:o,name:e,size:n="medium",type:i="button",variant:r="low",...s})=>l.jsx(ho,{$size:n,$variant:r,"aria-label":o,type:i,...s,children:l.jsx(j,{name:e})}));M.displayName="DSButtonIcon";const bo=d.div.withConfig({componentId:"sc-17or2ge-0"})(["align-items:center;column-gap:",";display:flex;justify-content:space-between;"],({theme:o})=>o.spacings["element-gap-md"]),Co=d(M).withConfig({componentId:"sc-17or2ge-1"})(["position:relative;right:",";top:",";"],({theme:o})=>`-${o.spacings[12]}`,({theme:o})=>`-${o.spacings[16]}`),wo=({children:o})=>{const{handleOnClose:e}=t.useContext(S);return l.jsxs(bo,{children:[o,l.jsx(Co,{name:"x",onClick:e,ariaLabel:"Close",variant:"low"})]})},vo=d.button.withConfig({componentId:"sc-yxfk2f-0"})([""]),R=t.memo(({onClick:o,...e})=>{const{isOpen:n}=t.useContext(S);return l.jsx(vo,{"aria-haspopup":"dialog","aria-expanded":n,onClick:o,...e})});R.displayName="DSModalTrigger";const L=t.memo(({children:o,onClose:e,state:n})=>{const i=n==="active",r=t.useRef(i),s=t.useRef(null);t.useEffect(()=>{!r.current&&i&&(s.current=document.activeElement),r.current=i},[i]);const g=t.useCallback(()=>{s.current&&requestAnimationFrame(()=>{s.current?.focus()}),e?.()},[e]);return l.jsx(Y,{isOpen:i,handleOnClose:g,children:o})});L.displayName="DSModalRoot";const Fo=Object.assign(L,{Trigger:R,Content:D,Header:wo}),So=t.memo(t.forwardRef(({accessoryLeft:o,accessoryRight:e,children:n,type:i="button",variant:r="plain",...s},g)=>l.jsxs(mo,{ref:g,type:i,$variant:r,...s,children:[o&&o,n,e&&e]})));So.displayName="DSButton";const xo={small:o=>o.spacings[24],medium:o=>o.spacings[32],large:o=>o.spacings[48]},yo=(o="medium",e)=>xo[o](e),Io=d.div.withConfig({componentId:"sc-1cfll6l-0"})(["--avatarSize:",";align-items:center;background-color:",";border-radius:",";color:",";display:inline-flex;font-weight:",";height:var(--avatarSize);justify-content:center;overflow:hidden;position:relative;width:var(--avatarSize);img{height:100%;width:100%;object-fit:cover;image-rendering:optimizeQuality;image-rendering:-webkit-optimize-contrast;}"],({$size:o,theme:e})=>yo(o,e),({theme:o})=>o.colors["emphasis-medium-bg"],({theme:o})=>o.radius.full,({theme:o})=>o.colors["emphasis-medium-fg"],({theme:o})=>o.fontWeight.bold),ko=d.span.withConfig({componentId:"sc-1cfll6l-1"})(["font-size:",";line-height:1;text-transform:uppercase;"],({theme:o})=>o.fontSize.body),Eo=o=>o?o.trim().split(/\s+/).slice(0,2).filter(i=>i.length>0).map(i=>i[0].toUpperCase()).join(""):"",Do=t.memo(({alt:o="",name:e,size:n="medium",src:i,...r})=>{const[s,g]=t.useState(!1),u=t.useCallback(()=>{g(!0)},[]),p=t.useCallback(()=>{g(!1)},[]);return l.jsxs(Io,{$size:n,"aria-label":e,...r,children:[i&&l.jsx("img",{alt:o||e||"avatar",loading:"lazy",onError:p,onLoad:u,src:i}),(!i||!s)&&l.jsx(ko,{children:Eo(e||o)})]})});Do.displayName="DSAvatar";const jo=(o,e)=>o.colors[e]||o.colors["emphasis-low-fg"],$o=(o,e)=>o.fontSize[e]||o.fontSize.body,zo=(o,e)=>o.fontWeight[e]||o.fontWeight.regular,Oo=d.p.withConfig({componentId:"sc-hqnwhr-0"})(["color:",";font-size:",";font-weight:",";"],({theme:o,$color:e})=>jo(o,e),({theme:o,$size:e})=>$o(o,e),({theme:o,$weight:e})=>zo(o,e)),Mo=t.memo(({children:o,color:e="emphasis-low-fg",size:n="body",weight:i="regular",as:r="p",...s})=>l.jsx(Oo,{$color:e,$size:n,$weight:i,as:r,...s,children:o}));Mo.displayName="DSText";const Ro=d.div.withConfig({componentId:"sc-ub9nzu-0"})(["border-radius:",";display:block;height:100%;overflow:hidden;position:relative;width:100%;",""],({$borderRadius:o})=>o?`${o}px`:"0",({$aspectRatio:o})=>o&&`aspect-ratio: ${o};`),Lo=d.img.withConfig({componentId:"sc-ub9nzu-1"})(["border-radius:",";display:block;height:100%;object-fit:cover;width:100%;opacity:",";transition:opacity 0.5s ease-out;"],({$borderRadius:o})=>o?`${o}px`:"0",({$isLoaded:o})=>o?1:0),Bo=d.div.withConfig({componentId:"sc-ub9nzu-2"})(["align-items:center;background-color:",";color:",";display:flex;font-size:",";height:100%;justify-content:center;left:0;position:absolute;top:0;width:100%;"],({theme:o})=>o.colors["emphasis-low-bg"],({theme:o})=>o.colors["emphasis-medium-fg"],({theme:o})=>o.fontSize.sm),Ao=t.memo(({alt:o="",borderRadius:e,height:n,isLoaded:i,loading:r="lazy",onError:s,onLoad:g,src:u,width:p,...h})=>{const[a,c]=t.useState(i||!1),[m,b]=t.useState(!1),w=p&&n?p/n:void 0,f=t.useCallback(v=>{c(!0),b(!1),g?.(v)},[g]),C=t.useCallback(v=>{b(!0),c(!1),s?.(v)},[s]);return l.jsxs(Ro,{$aspectRatio:w,$borderRadius:e,children:[m&&l.jsx(Bo,{children:"Image failed to load"}),u&&l.jsx(Lo,{$borderRadius:e,$isLoaded:a,$aspectRatio:w,alt:o,loading:r,onError:C,onLoad:f,src:u,width:p,height:n,...h})]})});Ao.displayName="DSImage";export{So as D,j as a,Fo as b,Do as c,Mo as d,X as e,Ao as f,Q as g,W as h};
